# todolist 만들기

### 실행

```
yarn install
yarn dev
yarn start:server
```

### 구현 사항

- [x] '할 일'은 20글자를 넘길 수 없습니다.
- [x] 처리가 안된 '할 일'은 10개를 넘을 수 없습니다.
- [x] 테스트코드 작성
  - [x] 모든 할 일이 올바르게 렌더링되는지
  - [x] 새로운 리스트가 추가되는지
  - [x] 입력값이 20자까지만 제한되는지
  - [x] 완료되지 않은 할 일이 10개 이상일 때 알림 메시지를 표시하는지
  - [x] 삭제가 되는지

### 디렉토리 구조

```
├── apis
├── app
├── assets
│   └── icons
├── components
│   ├── features
│   ├── pages
│   ├── provider
│   ├── test
│   └── ui
│       └── Field
│       └── Text
├── mocks
│   └── data
├── styles
└── utils
```

### 라이브러리 구성 및 선정 이유

- **React Query**
  서버 상태관리에 최적화된 라이브러리로 데이터 동기화, 캐싱, 자동 리페칭을 해주어 사용했습니다.
  에러바운더리를 제공하여 안정적으로 오류 에러처리를 할 수 있습니다.

- **Svgr**
  webpack이 코드를 빌드할 때 svg 파일을 자동으로 리액트 컴포넌트화 해주어 개발 편의성을 위해 적용했습니다.

- **Json Server**
  빠른 프로토타이핑과 mock API 개발을 위한 가벼운 JSON 기반 Rest API 서버
  별도의 백엔드 설정 없이 간편하게 mock 서버를 구현할 수 있습니다.

- **axios**
  브라우저와 서버 환경 모두 사용가능하여 Next.js와 Jest 환경에서 적합하여 사용했습니다.

### 트러블 슈팅 & 고민했던 부분

**msw를 이용한 TDD**

- msw를 이용하여 실제 서버에 요청하지 않고 handler를 이용하고 싶었지만 TDD를 처음 적용해본 탓에 설정 오류로 많은 시간을 할애하였습니다.
  부득이하게 서버를 실제로 요청하거나 mock fn을 이용했습니다.

**http 클라이언트 라이브러리 변경**

- 처음에는 ky로 작업을 하였으나 ky는 ESM-only 라이브러리이기 때문에 테스트 코드 실행시 추가 설정이 필요했습니다.
  이에 ky-universal을 추가하여 서버에서도 ky를 쓸지 구분하는 로직을 추가하였지만 해결되지 않아 결국 axios로 변경하여 작업하였습니다.
